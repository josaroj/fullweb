(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{9496:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(5861),i=t(7757),a=t.n(i),u=t(9008),c=t(1664),s=t(1163),o=t(9410),l=t.n(o),f=t(7294),d=(t(9704),t(9669)),h=t.n(d);function p(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().get("http://localhost:3000/api/auth/verify",{headers:{Authorization:n}}).then((function(e){return e.data})).catch((function(e){return!1}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=t(1955),g=t(5893);function y(){var e=(0,s.useRouter)(),n=(0,f.useState)(!1),t=n[0],i=n[1];function u(){return(u=(0,r.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),b.Z.remove("token"),b.Z.remove("user"),e.push("/");case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,f.useEffect)((0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=b.Z.get("token"))){e.next=7;break}return e.t0=i,e.next=5,p(n);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)}))),[]),(0,g.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[(0,g.jsxs)("div",{className:"container-fluid",children:[(0,g.jsx)("a",{className:"navbar-brand",href:"#",children:"Mystore"}),(0,g.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:(0,g.jsxs)("ul",{class:"nav nav-pills",children:[(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(c.default,{href:"/",children:(0,g.jsx)("a",{className:"/"==e.pathname?"nav-link active "+l().linkactive:"nav-link","aria-current":"page",children:"Home"})})}),t?(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(c.default,{href:"/cart/user/"+t.id,children:(0,g.jsx)("a",{className:"/cart/user/[userid]"==e.pathname?"nav-link active "+l().linkactive:"nav-link",children:"Cart"})})}):"",(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(c.default,{href:"/about",children:(0,g.jsx)("a",{className:"/about"==e.pathname?"nav-link active "+l().linkactive:"nav-link",children:"About"})})})]})})]}),t?(0,g.jsx)("form",{class:"d-flex",children:(0,g.jsx)("button",{class:"btn btn-outline-success",type:"submit",onClick:function(e){return u.apply(this,arguments)},children:"Logout"})}):(0,g.jsx)(c.default,{href:"/login",children:(0,g.jsx)("a",{className:"nav-link",children:"Login"})})]})}var m=t(5988);function x(){return(0,g.jsxs)("footer",{class:"d-flex flex-wrap justify-content-between align-items-center",className:"jsx-662788771",children:[(0,g.jsx)(m.default,{id:"662788771",children:["span.jsx-662788771{font-weight :bold;}"]}),(0,g.jsx)("div",{class:"col-md-4 d-flex align-items-center",className:"jsx-662788771",children:(0,g.jsx)("span",{class:"text-muted",style:{backgroundColor:"aqua"},className:"jsx-662788771",children:"\xa9 2021 Company, Inc"})})]})}function j(e){var n=e.children;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.default,{children:[(0,g.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU",crossorigin:"anonymous"}),(0,g.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js",integrity:"sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ",crossorigin:"anonymous"})]}),(0,g.jsx)(y,{}),(0,g.jsx)("div",{className:"container",children:n}),(0,g.jsx)(x,{})]})}},5248:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(4942),i=t(5861),a=t(7757),u=t.n(a),c=t(3629),s=t(9496),o=t(9669),l=t.n(o),f=t(1163),d=t(5893);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(e){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(n);case 2:return t=e.sent,r=t.data[0],a=r.products.map(function(){var e=(0,i.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("https://fakestoreapi.com/products/"+n.productId);case 2:return t=e.sent,r=p(p({},t.data),n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.t0=console,e.next=8,Promise.all(a);case 8:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=12,Promise.all(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){var e=(0,f.useRouter)();console.log(e);var n=(0,c.ZP)("https://fakestoreapi.com/carts/user/"+e.query.userid,v),t=n.data,r=n.error;return r?(0,d.jsx)(s.Z,{children:r}):t?(0,d.jsx)(s.Z,{children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",children:"Name"}),(0,d.jsx)("th",{scope:"col",children:"Price"}),(0,d.jsx)("th",{scope:"col",children:"Qty"}),(0,d.jsx)("th",{scope:"col",children:"Sum"})]})}),(0,d.jsx)("tbody",{children:t.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"row",children:e.title}),(0,d.jsx)("td",{children:e.price}),(0,d.jsx)("td",{children:e.quantity}),(0,d.jsx)("td",{children:e.price*e.quantity})]})}))})]})}):(0,d.jsx)(s.Z,{children:(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)("div",{className:"spinner-border",role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})}},2507:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart/user/[userid]",function(){return t(5248)}])},9410:function(e){e.exports={linkactive:"header_linkactive__1nBg4"}},3629:function(e,n,t){"use strict";t.d(n,{ZP:function(){return $}});var r=t(7294),i=Object.prototype.hasOwnProperty;function a(e,n,t,r){return new(t||(t=Promise))((function(i,a){function u(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,c)}s((r=r.apply(e,n||[])).next())}))}function u(e,n){var t,r,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var c={}[0],s=function(e){return e===c},o=function(e){return"function"==typeof e},l=function(){},f=function(e,n){return Object.assign({},e,n)},d=!0,h="undefined"!=typeof window,p="undefined"!=typeof document,v=h&&window.addEventListener||l,b=p&&document.addEventListener||l,g={isOnline:function(){return d},isVisible:function(){var e=p&&document.visibilityState;return!!s(e)||"hidden"!==e}},y={initFocus:function(e){b("visibilitychange",e),v("focus",e)},initReconnect:function(e){v("online",(function(){d=!0,e()})),v("offline",(function(){d=!1}))}},m="undefined"==typeof window||"Deno"in window,x=m?null:window.requestAnimationFrame,j=x?function(e){return x(e)}:function(e){return setTimeout(e,1)},w=m?r.useEffect:r.useLayoutEffect,k="undefined"!=typeof navigator&&navigator.connection,O=!m&&k&&(["slow-2g","2g"].includes(k.effectiveType)||k.saveData),E=new WeakMap,N=0;function P(e){if(o(e))try{e=e()}catch(n){e=""}var n;return Array.isArray(e)?(n=e,e=function(e){if(!e.length)return"";for(var n="arg",t=0;t<e.length;++t){var r=e[t],i=c;null===r||"object"!=typeof r&&!o(r)?i=JSON.stringify(r):E.has(r)?i=E.get(r):(i=N,E.set(r,N++)),n+="$"+i}return n}(e)):n=[e=String(e||"")],[e,n,e?"$err$"+e:"",e?"$req$"+e:""]}var R=new WeakMap,T=function(e,n,t,r,i,a){void 0===a&&(a=!1);var u=R.get(e),c=u[0],s=u[1],o=c[n],l=s[n];if(l)for(var f=0;f<l.length;++f)l[f](t,r,i);return a&&o&&o[0]?o[0](2).then((function(){return e.get(n)})):e.get(n)},S=0,Z=function(){return++S},C=function(e,n,t,r){return void 0===r&&(r=!0),a(void 0,void 0,void 0,(function(){var i,a,l,f,d,h,p,v,b,g,y;return u(this,(function(u){switch(u.label){case 0:if(i=P(n),a=i[0],l=i[2],!a)return[2];if(f=R.get(e),d=f[2],h=f[3],s(t))return[2,T(e,a,e.get(a),e.get(l),c,r)];if(b=d[a]=Z(),h[a]=0,o(t))try{t=t(e.get(a))}catch(e){t=c,v=e}if(!t||!o(t.then))return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t];case 2:return p=u.sent(),[3,4];case 3:return g=u.sent(),v=g,[3,4];case 4:if(b!==d[a]){if(v)throw v;return[2,p]}return[3,6];case 5:p=t,u.label=6;case 6:return s(p)||e.set(a,p),e.set(l,v),h[a]=Z(),[4,T(e,a,p,v,c,r)];case 7:if(y=u.sent(),v)throw v;return[2,y]}}))}))};function V(e,n){for(var t in e)e[t][0]&&e[t][0](n)}function _(e,n){if(!R.has(e)){var t=f(y,n),r={},i=C.bind(c,e);return R.set(e,[r,{},{},{},{},{},i]),m||(t.initFocus(V.bind(c,r,0)),t.initReconnect(V.bind(c,r,1))),[e,i]}}var I=_(new Map),D=I[0],A=I[1],M=f({onLoadingSlow:l,onSuccess:l,onError:l,onErrorRetry:function(e,n,t,r,i){if(g.isVisible()){var a=t.errorRetryCount,u=i.retryCount,c=~~((Math.random()+.5)*(1<<(u<8?u:8)))*t.errorRetryInterval;!s(a)&&u>a||setTimeout(r,c,i)}},revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:O?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:O?5e3:3e3,compare:function e(n,t){var r,a;if(n===t)return!0;if(n&&t&&(r=n.constructor)===t.constructor){if(r===Date)return n.getTime()===t.getTime();if(r===RegExp)return n.toString()===t.toString();if(r===Array){if((a=n.length)===t.length)for(;a--&&e(n[a],t[a]););return-1===a}if(!r||"object"===typeof n){for(r in a=0,n){if(i.call(n,r)&&++a&&!i.call(t,r))return!1;if(!(r in t)||!e(n[r],t[r]))return!1}return Object.keys(t).length===a}}return n!==n&&t!==t},isPaused:function(){return!1},cache:D,mutate:A,fallback:{}},g);function q(e,n){var t=f(e,n);if(!n)return t;var r=e.use,i=e.fallback,a=n.use,u=n.fallback;return r&&a&&(t.use=r.concat(a)),i&&u&&(t.fallback=f(i,u)),t}var F=(0,r.createContext)({});function L(e){return o(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}var W,B=function(e,n,t){var r=n[e]||(n[e]=[]);return r.push(t),function(){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}},H={dedupe:!0},$=(Object.defineProperty((function(e){var n=e.children,t=e.value,i=q((0,r.useContext)(F),t),a=t&&t.provider,u=(0,r.useState)((function(){return a?_(a(i.cache||D),t):c}))[0];return u&&(i.cache=u[0],i.mutate=u[1]),(0,r.createElement)(F.Provider,{value:i},n)}),"default",{value:M}),W=function(e,n,t){var i=t.cache,o=t.compare,l=t.fallbackData,d=t.suspense,h=t.revalidateOnMount,p=t.refreshInterval,v=t.refreshWhenHidden,b=t.refreshWhenOffline,g=R.get(i),y=g[0],x=g[1],k=g[2],O=g[3],E=g[4],N=g[5],S=P(e),V=S[0],_=S[1],I=S[2],D=S[3],A=(0,r.useRef)(!1),M=(0,r.useRef)(!1),q=(0,r.useRef)(V),F=(0,r.useRef)(t),L=function(){return F.current},W=i.get(V),$=s(l)?t.fallback[V]:l,Q=s(W)?$:W,J=i.get(I);if(d&&(!V||!n))throw new Error("useSWR requires either key or fetcher with suspense mode");var X=function(){return s(h)?d?!A.current&&!s(Q):s(Q)||t.revalidateIfStale:h},z=!(!V||!n)&&(!!i.get(D)||!A.current&&X()),G=function(e,n){var t=(0,r.useState)({})[1],i=(0,r.useRef)(e),a=(0,r.useRef)({data:!1,error:!1,isValidating:!1}),u=(0,r.useCallback)((function(e){var r=!1,u=i.current;for(var c in e){var s=c;u[s]!==e[s]&&(u[s]=e[s],a.current[s]&&(r=!0))}r&&!n.current&&t({})}),[]);return w((function(){i.current=e})),[i,a.current,u]}({data:Q,error:J,isValidating:z},M),K=G[0],U=G[1],Y=G[2],ee=(0,r.useCallback)((function(e){return a(void 0,void 0,void 0,(function(){var r,a,l,f,d,h,p,v,b;return u(this,(function(u){switch(u.label){case 0:if(!V||!n||M.current||L().isPaused())return[2,!1];l=!0,f=e||{},d=!s(E[V])&&f.dedupe,h=function(){return!M.current&&V===q.current&&A.current},p=function(){delete E[V],delete N[V]},u.label=1;case 1:return u.trys.push([1,6,,7]),i.set(D,!0),Y({isValidating:!0}),d||T(i,V,K.current.data,K.current.error,!0),d?(a=N[V],[4,E[V]]):[3,3];case 2:return r=u.sent(),[3,5];case 3:return t.loadingTimeout&&!i.get(V)&&setTimeout((function(){l&&h()&&L().onLoadingSlow(V,t)}),t.loadingTimeout),N[V]=a=Z(),[4,E[V]=n.apply(n,_)];case 4:r=u.sent(),setTimeout((function(){N[V]===a&&p()}),t.dedupingInterval),h()&&L().onSuccess(r,V,t),u.label=5;case 5:return N[V]!==a?[2,!1]:(i.set(I,c),i.set(D,!1),v={isValidating:!1},!s(k[V])&&(a<=k[V]||a<=O[V]||0===O[V])?(Y(v),[2,!1]):(s(K.current.error)||(v.error=c),o(K.current.data,r)||(v.data=r),o(i.get(V),r)||i.set(V,r),Y(v),d||T(i,V,r,v.error,!1),[3,7]));case 6:return b=u.sent(),p(),i.set(D,!1),L().isPaused()?(Y({isValidating:!1}),[2,!1]):(i.set(I,b),K.current.error!==b&&(Y({isValidating:!1,error:b}),d||T(i,V,c,b,!1)),h()&&(L().onError(b,V,t),t.shouldRetryOnError&&L().onErrorRetry(b,V,t,ee,{retryCount:(f.retryCount||0)+1,dedupe:!0})),[3,7]);case 7:return l=!1,[2,!0]}}))}))}),[V]),ne=(0,r.useCallback)((function(e,n){return C(i,q.current,e,n)}),[]);if(w((function(){F.current=t})),w((function(){if(V){var e=A.current,n=ee.bind(c,H),t=function(){return L().isVisible()&&L().isOnline()},r=0,i=B(V,x,(function(e,n,t){Y(f({error:n,isValidating:t},o(e,K.current.data)?null:{data:e}))})),a=B(V,y,(function(e){if(0===e){var i=Date.now();L().revalidateOnFocus&&i>r&&t()&&(r=i+L().focusThrottleInterval,n())}else if(1===e)L().revalidateOnReconnect&&t()&&n();else if(2===e)return ee()}));return M.current=!1,q.current=V,e&&Y({data:Q,error:J,isValidating:z}),X()&&(s(Q)||m?n():j(n)),A.current=!0,function(){M.current=!0,i(),a()}}}),[V,ee]),w((function(){var e;function n(){p&&-1!==e&&(e=setTimeout(t,p))}function t(){K.current.error||!v&&!L().isVisible()||!b&&!L().isOnline()?n():ee(H).then((function(){return n()}))}return n(),function(){e&&(clearTimeout(e),e=-1)}}),[p,v,b,ee]),(0,r.useDebugValue)(Q),d&&s(Q))throw s(J)?ee(H):J;return{mutate:ne,get data(){return U.data=!0,Q},get error(){return U.error=!0,J},get isValidating(){return U.isValidating=!0,z}}},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=L(e),i=t[0],a=t[1],u=t[2],c=f(M,(0,r.useContext)(F)),s=q(c,u),o=W,l=s.use;if(l)for(var d=l.length;d-- >0;)o=l[d](o);return o(i,a||s.fetcher,s)})},950:function(){},6601:function(){},9214:function(){},8623:function(){},7748:function(){},5568:function(){},6619:function(){},7108:function(){},2361:function(){},4616:function(){},4942:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[774,86,888,179],(function(){return n=2507,e(e.s=n);var n}));var n=e.O();_N_E=n}]);